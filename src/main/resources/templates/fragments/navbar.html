<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head></head>
<body>

<header th:fragment="nav">

    <nav>
        <ul class="nav nav-tabs justify-content-center">

            <li class="nav-item">
                <a class="nav-link" th:href="@{/home}">HOME</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" sec:authorize="isAuthenticated()"
                   th:href="@{/groups/all}">GROUPS</a>
            </li>

            <li class="nav-item">
                <a id="loadMessages" class="nav-link" sec:authorize="isAuthenticated()"
                   th:href="@{/users/messages/all}">MESSAGES</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" sec:authorize="isAuthenticated()"
                   th:href="@{/products/add}">ADD PRODUCTS</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" th:href="@{/products/all}">PRODUCTS</a>
            </li>

            <li class="nav-item" sec:authorize="isAuthenticated()">
                <a class="nav-link" th:href="@{/users/profile}">PROFILE</a>
            </li>

            <li class="nav-item dropdown" sec:authorize="hasRole('ADMIN')">
                <a class="nav-link " href="/admin" id="navbarDropdown" role="button">
                    ADMIN
                </a>
            </li>


            <li class="nav-item" sec:authorize="hasRole('GROUP_ADMIN')">
                <a class="nav-link" href="/groups/my">MY GROUPS</a>
            </li>

            </li>


            <li class="nav-item" sec:authorize="isAuthenticated()">
                <div class="form-inline my-2 my-lg-0 border px-3">
                    <div class="text-white">Welcome,
                        <th:block sec:authentication="name"></th:block>
                        !
                    </div>
                    <form th:action="@{/users/logout}" th:method="post">
                        <input class="btn btn-link nav-link" type="submit" value="Logout">
                    </form>
                </div>
            </li>

            <li class="nav-item" sec:authorize="!isAuthenticated()">
                <a class="nav-link"
                   th:href="@{/users/login}">LOGIN</a>
            </li>
            <li class="nav-item" sec:authorize="!isAuthenticated()">
                <a class="nav-link" th:href="@{/users/register}">REGISTER</a>
            </li>

        </ul>
    </nav>

</header>

</body>
</html>
